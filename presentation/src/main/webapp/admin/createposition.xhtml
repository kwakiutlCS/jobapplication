<ui:composition template="/resources/layouts/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


	<ui:define name="title">Create Position</ui:define>

	<ui:define name="content">

		<h2>Insert new position page</h2>

		<h:form id="newpositionform">
			<h:panelGrid columns="2" cellpadding="5">

				<p:outputLabel for="title" value="Title" />
				<p:inputText id="title" value="#{positionBean.title}" />

				<p:outputLabel for="vacancies" value="Vacancies" />
				<p:spinner id="vacancies" value="#{positionBean.vacancies}" />

				<p:outputLabel for="closdate" value="Closing Date" />
				<p:calendar id="closdate" style="width: 100%;"
					value="#{positionBean.closingDate}" />

				<p:outputLabel for="sla" value="SLA" />
				<p:inputText id="sla" value="#{positionBean.sla}" />

				<p:outputLabel for="contactPerson" value="Contact Person" />
				<p:inputText id="contactPerson"
					value="#{positionBean.contactPerson}" />

				<p:outputLabel for="company" value="Company" />
				<p:inputText id="company" value="#{positionBean.company}" />

				<p:outputLabel for="local" value="Location" />
				<p:selectManyCheckbox id="local"
					value="#{positionBean.selectedLocalizations}"
					converter="localizationConverter">
					<f:selectItems value="#{positionBean.localizations}"
						var="localization" itemValue="#{localization}"
						itemLabel="#{localization.localizationLabel}" />
				</p:selectManyCheckbox>

				<p:outputLabel for="description" value="Description" />
				<p:inputTextarea id="description"
					value="#{positionBean.description}" rows="5" cols="30" />

				<p:outputLabel for="area" value="Technical Area" />
				<p:selectManyCheckbox id="area"
					value="#{positionBean.selectedTechnicalAreas}"
					converter="technicalAreaConverter">
					<f:selectItems value="#{positionBean.technicalAreas}"
						var="technicalArea" itemValue="#{technicalArea}"
						itemLabel="#{technicalArea.technicalAreaLabel}" />
				</p:selectManyCheckbox>

				<p:outputLabel for="positionState" value="Position State" />
				<p:selectOneMenu id="positionState"
					value="#{positionBean.positionState}">
					<f:selectItems value="#{positionBean.positionStates}"
						var="positionState" itemValue="#{positionState}"
						itemLabel="#{positionState.positionStateLabel}" />
				</p:selectOneMenu>

				<p:outputLabel for="chan" value="Publication Channel" />
				<p:selectCheckboxMenu id="chan"
					value="#{positionBean.selectedChannels}"
					converter="omnifaces.SelectItemsConverter">
					<f:selectItems
						value="#{publicationChannelBean.iPublicationChannels}"
						var="channel" itemValue="#{channel}"
						itemLabel="#{channel.channel}" />
				</p:selectCheckboxMenu>

				<p:commandButton onclick="PF('dlg1').show();" type="button"
					value="New Channel" />
				<br />

				<p:commandButton value="Submit"
					action="#{positionBean.createPosition}" update="newpositionform" />
			</h:panelGrid>
		</h:form>

		<p:dialog header="Insert new channel" widgetVar="dlg1" height="100">
			<h:form>
				<p:outputLabel for="newChannel" value="New Channel" />
				<p:inputText id="newChannel"
					value="#{publicationChannelBean.channel}" />
				<p:commandButton value="Submit"
					action="#{publicationChannelBean.createNewPublicationChannel()}"
					update="newpositionform" />
			</h:form>
		</p:dialog>

	</ui:define>
</ui:composition>

