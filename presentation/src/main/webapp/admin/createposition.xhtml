<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta charset="utf-8" />
	<title>createPosition</title>
</h:head>
<h:body>

	<h:form id="newpositionform">

		<p:growl id="msgs" showDetail="true" />
		<h:panelGrid columns="2" cellpadding="5">

			<p:outputLabel for="opdate" value="opening date" />

			<p:calendar id="opdate" style="width: 100%;"
				value="#{positionBean.openingDate}" />


			<p:outputLabel for="title" value="Title" />
			<p:inputText id="title" value="#{positionBean.title}" />


			<p:outputLabel for="vacancies" value="Vacancies" />
			<p:spinner id="vacancies" value="#{positionBean.vacancies}" />


			<p:outputLabel for="closdate" value="Closing Date" />
			<p:calendar id="closdate" style="width: 100%;"
				value="#{positionBean.closingDate}" />


			<p:outputLabel for="sla" value="SLA" />
			<p:inputText id="sla" value="#{positionBean.sla}" />


			<p:outputLabel for="contactPerson" value="Contact Person" />
			<p:inputText id="contactPerson" value="#{positionBean.contactPerson}" />


			<p:outputLabel for="company" value="Company" />
			<p:inputText id="company" value="#{positionBean.company}" />


			<p:outputLabel for="description" value="Description" />
			<p:inputText id="description" value="#{positionBean.description}" />

			<p:outputLabel for="local" value="Localization" />
			<p:selectCheckboxMenu id="local"
				value="#{positionBean.localizations}"
				converter="localizationConverter">
				<f:selectItems value="#{positionBean.localizations}"
					var="localization" itemValue="#{localization}"
					itemLabel="#{localization.localizationLabel}" />
			</p:selectCheckboxMenu>

			<p:outputLabel for="area" value="Technical Area" />
			<p:selectCheckboxMenu id="area"
				value="#{positionBean.technicalAreas}"
				converter="technicalAreaConverter">
				<f:selectItems value="#{positionBean.technicalAreas}"
					var="technicalArea" itemValue="#{technicalArea}"
					itemLabel="#{technicalArea.technicalAreaLabel}" />
			</p:selectCheckboxMenu>

			<p:outputLabel for="positionState" value="Position State" />
			<p:selectOneMenu id="positionState"
				value="#{positionBean.positionState}">
				<f:selectItems value="#{positionBean.positionStates}"
					var="positionState" itemValue="#{positionState}"
					itemLabel="#{positionState.positionStateLabel}" />
			</p:selectOneMenu>

			<p:outputLabel for="chan" value="Publication Channel" />
			<p:selectManyMenu id="chan" value="#{positionBean.channels}"
				converter="omnifaces.SelectItemsConverter">
				<f:selectItems
					value="#{publicationChannelBean.iPublicationChannels}"
					var="channel" itemValue="#{channel}" itemLabel="#{channel.channel}" />
			</p:selectManyMenu>

			<p:commandButton onclick="PF('dlg1').show();" type="button"
				value="New Channel" />
			<p:commandButton process="@form" value="Submit" update="msgs"
				action="#{positionBean.createPosition}" />
		</h:panelGrid>
	</h:form>



	<p:dialog header="Insert new channel" widgetVar="dlg1" height="100">
		<h:form>
			<p:outputLabel for="newChannel" value="New Channel" />
			<p:inputText id="newChannel"
					value="#{publicationChannelBean.channel}" />
					
				<p:commandButton value="Submit"
				action="#{publicationChannelBean.createNewPublicationChannel()}" />


		</h:form>
	</p:dialog>
</h:body>

</html>
