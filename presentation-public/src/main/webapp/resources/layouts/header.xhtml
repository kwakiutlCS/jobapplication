<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:panelGroup id="headerBar">
		<nav class="navbar navbar-default" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>

				</div>

				<div class="collapse navbar-collapse"
					id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li><p:link value="HOME" outcome="index" /></li>
						<li><p:link value="CAREERS" outcome="listPosition" /></li>
						<h:panelGroup rendered="#{loginBean.loggedIn}">
						<li><p:link value="SPONTANEOUS APPLICATION" outcome="spontaneous" /></li>
						</h:panelGroup>
						<h:panelGroup rendered="#{not loginBean.loggedIn}">
						<li><p:link value="SPONTANEOUS APPLICATION" onclick="PF('loginDlg').show();return false;"
						outcome="spontaneous" /></li>
						</h:panelGroup>
						
						<h:panelGroup rendered="#{not loginBean.loggedIn}">
							<li><p:link value="REGISTER" outcome="register" /></li>
							<li><h:form>
									<p:commandLink value="LOGIN" onclick="PF('loginDlg').show()" />
								</h:form></li>
						</h:panelGroup>
					</ul>
					<h:panelGroup rendered="#{loginBean.loggedIn}">
						<ul class="nav navbar-nav navbar-right">
							<li class="dropdown"><a href="#" class="dropdown-toggle"
								data-toggle="dropdown" role="button" aria-haspopup="true"
								aria-expanded="false">#{loginBean.user.name} <span
									class="caret"></span></a>
								<ul class="dropdown-menu">
									<li><h:form>
											<p:link outcome="profile" value="profile" />
											<p:link outcome="myPage" value="my applications" />
											<p:commandLink styleClass="logoutLink"
												action="#{loginBean.logout()}" value="logout" />
										</h:form></li>
								</ul></li>
						</ul>



					</h:panelGroup>
				</div>
			</div>
		</nav>
	</h:panelGroup>


	<p:dialog header="Login" widgetVar="loginDlg" modal="true"
		draggable="false" minimizable="false" resizable="false">

		<p:outputPanel id="loginpanel">
			<h:form>
				<p:messages id="loginMsg" />
				<p:outputLabel value="Login" />
				<p></p>
				<p:inputText id="login" value="#{loginBean.login}" required="true" />
				<p></p>
				<h:outputText value="Password" />
				<p></p>
				<h:inputSecret id="password" value="#{loginBean.password}" />
				<p></p>
				<h:commandButton action="#{loginBean.headerLogin}" value="Enter" />
			</h:form>
		</p:outputPanel>

	</p:dialog>
</ui:composition>
